{"ast":null,"code":"import _toConsumableArray from \"/Users/jayprakash/React-Shopping-Cart/Shopping-Cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/jayprakash/React-Shopping-Cart/Shopping-Cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY } from '../actions/cartActions';\nvar initState = {\n  items: [{\n    id: 1,\n    title: 'Shaman Coffee Tabel Walnut',\n    price: 59,\n    priceLabel: 59,\n    quantity: 1\n  }, {\n    id: 2,\n    title: 'puget Arm  Chair Gray',\n    price: 37,\n    priceLabel: 37,\n    quantity: 1\n  }, {\n    id: 3,\n    title: 'Plumb Ottoman Brown',\n    price: 12,\n    priceLabel: 12,\n    quantity: 1\n  }, {\n    id: 4,\n    title: 'Mission Way Tall Six Level Self Distressed Natural',\n    price: 48,\n    priceLabel: 48,\n    quantity: 1\n  }],\n  addedItems: [],\n  total: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  //INSIDE HOME COMPONENT\n  if (action.type === ADD_TO_CART) {\n    var addedItem = state.items.find(function (item) {\n      return item.id === action.id;\n    }); //check if the action id exists in the addedItems\n\n    var existed_item = state.addedItems.find(function (item) {\n      return action.id === item.id;\n    });\n\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return _objectSpread({}, state, {\n        total: state.total + addedItem.price\n      });\n    } else {\n      addedItem.quantity = 1;\n      var newTotal = state.total + addedItem.price;\n      return _objectSpread({}, state, {\n        addedItems: _toConsumableArray(state.addedItems).concat([addedItem]),\n        total: newTotal\n      });\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    var itemToRemove = state.addedItems.find(function (item) {\n      return action.id === item.id;\n    });\n    var new_items = state.addedItems.filter(function (item) {\n      return action.id !== item.id;\n    });\n    return _objectSpread({}, state, {\n      addedItems: new_items\n    });\n  }\n\n  if (action.type === ADD_QUANTITY) {\n    var _addedItem = state.items.find(function (item) {\n      return item.id === action.id;\n    });\n\n    _addedItem.quantity += 1;\n    _addedItem.priceLabel = _addedItem.price * _addedItem.quantity;\n    return _objectSpread({}, state);\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    var _addedItem2 = state.items.find(function (item) {\n      return item.id === action.id;\n    }); //if the qt == 0 then it should be removed\n\n\n    if (_addedItem2.quantity === 1) {\n      return _objectSpread({}, state);\n    } else {\n      _addedItem2.quantity -= 1;\n      _addedItem2.priceLabel = _addedItem2.price * _addedItem2.quantity;\n\n      var _newTotal = state.total - _addedItem2.price;\n\n      return _objectSpread({}, state, {\n        total: _newTotal\n      });\n    }\n  } else {\n    return _objectSpread({}, state, {\n      addedItems: _toConsumableArray(state.items)\n    });\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/jayprakash/React-Shopping-Cart/Shopping-Cart/src/components/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","initState","items","id","title","price","priceLabel","quantity","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","newTotal","itemToRemove","new_items","filter"],"mappings":"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","sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY } from '../actions/cartActions'\r\n\r\nconst initState = {\r\n    items: [\r\n        { id: 1, title: 'Shaman Coffee Tabel Walnut', price: 59, priceLabel: 59, quantity: 1 },\r\n        { id: 2, title: 'puget Arm  Chair Gray', price: 37, priceLabel: 37, quantity: 1 },\r\n        { id: 3, title: 'Plumb Ottoman Brown', price: 12, priceLabel: 12, quantity: 1 },\r\n        { id: 4, title: 'Mission Way Tall Six Level Self Distressed Natural', price: 48, priceLabel: 48, quantity: 1 },\r\n    ],\r\n    addedItems: [],\r\n    total: 0\r\n\r\n}\r\nconst cartReducer = (state = initState, action) => {\r\n\r\n    //INSIDE HOME COMPONENT\r\n    if (action.type === ADD_TO_CART) {\r\n        let addedItem = state.items.find(item => item.id === action.id)\r\n        //check if the action id exists in the addedItems\r\n        let existed_item = state.addedItems.find(item => action.id === item.id)\r\n        if (existed_item) {\r\n            addedItem.quantity += 1\r\n            return {\r\n                ...state,\r\n                total: state.total + addedItem.price\r\n            }\r\n        }\r\n        else {\r\n            addedItem.quantity = 1;\r\n            let newTotal = state.total + addedItem.price\r\n            return {\r\n                ...state,\r\n                addedItems: [...state.addedItems, addedItem],\r\n                total: newTotal\r\n            }\r\n\r\n        }\r\n    }\r\n    if (action.type === REMOVE_ITEM) {\r\n        let itemToRemove = state.addedItems.find(item => action.id === item.id)\r\n        let new_items = state.addedItems.filter(item => action.id !== item.id)\r\n        return {\r\n            ...state,\r\n            addedItems: new_items,\r\n        }\r\n    }\r\n\r\n    if (action.type === ADD_QUANTITY) {\r\n\r\n        let addedItem = state.items.find(item => item.id === action.id)\r\n        addedItem.quantity += 1\r\n        addedItem.priceLabel = addedItem.price * addedItem.quantity\r\n        return {\r\n            ...state\r\n        }\r\n    }\r\n    if (action.type === SUB_QUANTITY) {\r\n        let addedItem = state.items.find(item => item.id === action.id)\r\n        //if the qt == 0 then it should be removed\r\n        if (addedItem.quantity === 1) {\r\n            return {\r\n                ...state,\r\n            }\r\n        }\r\n        else {\r\n            addedItem.quantity -= 1\r\n            addedItem.priceLabel = addedItem.price * addedItem.quantity\r\n            let newTotal = state.total - addedItem.price\r\n            return {\r\n                ...state,\r\n                total: newTotal\r\n            }\r\n        }\r\n\r\n    }\r\n    else {\r\n        return {\r\n            ...state,\r\n            addedItems: [...state.items],\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default cartReducer\r\n"]},"metadata":{},"sourceType":"module"}